<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"examples_gulpfile.symbols.js.html":{"id":"examples_gulpfile.symbols.js.html","title":"Source: examples/gulpfile.symbols.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: examples/gulpfile.symbols.js var gulp = require(&quot;gulp&quot;); var svgMultitool = require(&quot;../index&quot;); // replace with gulp-svg-multitool in your project var config = { /** * Indicate symbols mode * @property symbols * @type Boolean */ symbols: true, /** * Change the output directory * @property outputPath * @type String */ outputPath: './icons', /** * Change the svg output filename * @property outputFile * @type String */ outputFile: 'generated.svg' }; /** * Example Method shows how to utilize symbols mode * @method gulp-symbols */ gulp.task(&quot;multitool:symbols&quot;, [&quot;clean:output&quot;], function() { return gulp.src(&quot;test/fixtures/*.svg&quot;) .pipe(svgMultitool(config)) .pipe(gulp.dest(&quot;./test/output&quot;)); }); × Search results Close "},"examples_gulpfile.options.js.html":{"id":"examples_gulpfile.options.js.html","title":"Source: examples/gulpfile.options.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: examples/gulpfile.options.js var gulp = require(&quot;gulp&quot;); var svgMultitool = require(&quot;../index&quot;); // replace with gulp-svg-multitool in your project var config = { /** * Change the output directory * @property outputPath * @type String */ outputPath: './icons', /** * Change the svg output filename * @property outputFile * @type String */ outputFile: 'generated.svg' }; /** * Example Method shows some of the different options * that can be used * @method gulp-options */ gulp.task(&quot;multitool:options&quot;, [&quot;clean:output&quot;], function () { gulp.src(&quot;test/fixtures/*.svg&quot;) .pipe(svgMultitool(config)) .pipe(gulp.dest(&quot;./test/output&quot;)) }); × Search results Close "},"examples_gulpfile.pngs.js.html":{"id":"examples_gulpfile.pngs.js.html","title":"Source: examples/gulpfile.pngs.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: examples/gulpfile.pngs.js var gulp = require(&quot;gulp&quot;); var svgMultitool = require(&quot;../index&quot;); // replace with gulp-svg-multitool in your project var config = { /** * Indicate that png fallbacks should be generated * @property outputPath * @type Boolean */ pngFallback: true, /** * Change the output directory * @property outputPath * @type String */ outputPath: './icons' }; /** * Example Method shows how to utilize png fallbacks * @method gulp-pngs */ gulp.task(&quot;multitool:pngs&quot;, [&quot;clean:output&quot;], function () { gulp.src(&quot;test/fixtures/*.svg&quot;) .pipe(svgMultitool(config)) .pipe(gulp.dest(&quot;./test/output&quot;)) }); × Search results Close "},"examples_gulpfile.defs.js.html":{"id":"examples_gulpfile.defs.js.html","title":"Source: examples/gulpfile.defs.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: examples/gulpfile.defs.js var gulp = require(&quot;gulp&quot;); var svgMultitool = require(&quot;../index&quot;); // replace with gulp-svg-multitool in your project /** * Example Method shows basic usage with no options/config * @method gulp-defs */ gulp.task(&quot;multitool:defs&quot;, [&quot;clean:output&quot;], function() { return gulp.src(&quot;test/fixtures/*.svg&quot;) .pipe(svgMultitool()) .pipe(gulp.dest(&quot;./test/output&quot;)); }); × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: index.js /** * SVG manipulations using gulp, largely inspired and modified from * {@link https://github.com/shakyshane/gulp-svg-sprites#readme|gulp-svg-sprites} * @namespace gulp-svg-multitool */ const through = require(&quot;through2&quot;); const gutil = require(&quot;gulp-util&quot;); const File = gutil.File; const Q = require(&quot;q&quot;); const _ = require(&quot;lodash&quot;); const path = require(&quot;path&quot;); const async = require(&quot;async&quot;); const svg2png = require(&quot;svg2png&quot;); const fs = require(&quot;fs&quot;); const getDispatcher = require(&quot;./lib/svg-dispatcher&quot;).getDispatcher; const PLUGIN_NAME = &quot;gulp-svg-multitool&quot;; /** * Default configuration. Everything here can be overridden * @constant {Object} options * @property {Boolean} options.symbols - Use symbol blocks instead of defs * @property {Boolean} options.jsonData - Generate JSON data from SVG files * @property {Boolean} options.pngFallback - Generate PNG fallback images of each SVG * @property {Boolean} options.async - Use async processing * @property {String} options.outputPath - Define the output path for generated files. * @property {String} options.previewFile - Define the output path for generated files. * @property {String} options.jsonFile - Define the output path for generated files. * @property {String} options.svgOutputFile - Define the output path for generated files. * @property {Number} options.padding - Add padding to sprite items * @property {Number} options.baseSize - Set the base font-size for the icon element * @property {Function} options.postProcess - Apply additional data changes AFTER core processes * @memberof gulp-svg-multitool */ const options = { symbols: false, jsonData: true, preview: true, pngFallback: false, async: false, common: &quot;icon&quot;, outputPath: &quot;./&quot;, previewFile: &quot;preview.html&quot;, jsonFile: &quot;svg-data.json&quot;, svgOutputFile: &quot;atlas.svg&quot;, padding: 0, baseSize: 10, svgoConfig: {}, postProcess: function(data, config, done) { if (config.async) { return done(data); } return data; } }; /** * Helper for correct plugin errors * @function error * @param {Object} context * @param {String} msg * @memberof gulp-svg-multitool */ function error(context, msg) { context.emit(&quot;error&quot;, new gutil.PluginError(PLUGIN_NAME, msg)); } /** * Misc helper func * @function makeFile * @param {String} fileName * @param {Stream} stream * @param {*} data * @memberof gulp-svg-multitool */ function makeFile(fileName, stream, data) { const fileBuffer = new Buffer(data); const newFile = new File({ cwd: &quot;./&quot;, base: &quot;./&quot;, path: fileName, contents: fileBuffer }); stream.push(newFile); } /** * Misc helper func * @function writeFiles * @param {Stream} stream * @param {Object} config * @param {Object} data * @param {Function} cb * @memberof gulp-svg-multitool */ function writeFiles(stream, config, data, cb) { data.config = config; var promises = []; var template = &quot;&quot;; var previewTemplate = &quot;&quot;; if (!config.svgOutputFile) { cb(null); } if (config.symbols) { template = fs.readFileSync(__dirname + &quot;/templates/symbols.svg&quot;, &quot;utf-8&quot;); previewTemplate = fs.readFileSync(__dirname + &quot;/templates/preview-symbols.html&quot;, &quot;utf-8&quot;); } else { template = fs.readFileSync(__dirname + &quot;/templates/defs.svg&quot;, &quot;utf-8&quot;); previewTemplate = fs.readFileSync(__dirname + &quot;/templates/preview-template.html&quot;, &quot;utf-8&quot;); } makeTemplateFile(template, config.svgOutputFile, stream, data).then(function(output) { data.svgInline = output; if (config.preview) { promises.push(makeTemplateFile(previewTemplate, config.previewFile, stream, data)); Q.all(promises).then(cb); } else { cb(null); } }); } /** * Misc helper func * @function makeTemplateFile * @param {File} template * @param {String} fileName * @param {Stream} stream * @param {Object} data * @return {Promise.promise|*} * @memberof gulp-svg-multitool */ function makeTemplateFile(template, fileName, stream, data) { var deferred = Q.defer(); var id = _.uniqueId(); var out = &quot;&quot;; try { var compiled = _.template(template); out = compiled(data); }catch (e) { deferred.reject(e); return deferred.promise; } const fileBuffer = new Buffer(out); const newFile = new File({ cwd: &quot;./&quot;, base: &quot;./&quot;, path: fileName, contents: fileBuffer }); stream.push(newFile); deferred.resolve(out); return deferred.promise; } /** * Handles json file creation primarily * @function jsonify * @param data * @param config * @return {Object} * @memberof gulp-svg-multitool */ function jsonify(stream, data, config, done) { if (config.jsonData) { const jsonBuildData = {}; data.svg = data.svg.map(function(item) { if (config.jsonData) { jsonBuildData[item.name] = item.data; } return item; }); const jsonPath = `${config.outputPath}/${config.jsonFile}`; const json = JSON.stringify(jsonBuildData); makeFile(config.jsonFile, stream, json); } if (config.async) { return config.postProcess(data, config, done); } return config.postProcess(data, config); } module.exports = function(config) { config = _.merge(_.cloneDeep(options), config || {}); const dispatcher = getDispatcher(config); return through.obj(function(file, enc, cb) { var stream = this; var fileName = path.basename(file.path, path.extname(file.path)); dispatcher.register(file); if (config.pngFallback) { stream.push(new File({ cwd: &quot;./&quot;, base: &quot;./&quot;, path: `${fileName}.png`, contents: svg2png.sync(file.contents) })); } cb(null); }, function(cb) { var stream = this; dispatcher.compile(function(err, svgData) { if (config.async) { var onDone = function(data) { writeFiles(stream, config, data, cb.bind(null, null)); }; jsonify(stream, svgData, config, onDone); } else { var data = jsonify(stream, svgData, config); writeFiles(stream, config, data, cb.bind(null, null)); } }); }); }; × Search results Close "},"test_specs_init.spec.js.html":{"id":"test_specs_init.spec.js.html","title":"Source: test/specs/init.spec.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: test/specs/init.spec.js /** * Unit testing spec * @namespace init.spec */ var File = require(&quot;vinyl&quot;); var assert = require(&quot;chai&quot;).assert; var vfs = require(&quot;vinyl-fs&quot;); var through = require(&quot;through2&quot;); var svgMultitool = require(&quot;../../index&quot;); /** * Unit testing construct * @function TestUtility * @memberof init.spec */ function TestUtility() { this.actual = {}; this.src = vfs.src; this.dest = vfs.dest; } /** * Misc helper * @function injectTestPipe * @param {Function} callback - callback * @return {Stream} * @memberof init.spec */ TestUtility.prototype.injectTestPipe = function(callback) { const self = this; // console.log(&quot;Testing Pipe INITIALIZED&quot;); return through.obj(function(file, enc, cb) { if (typeof file === &quot;string&quot;) { self.actual[file] = null; } else { // console.log(&quot;Testing Pipe onData FIRED&quot;); // console.log(file); self.actual[file.path] = file.contents.toString(); } this.push(file); cb(null); }, function() { callback(self.actual); }); }; /** * Misc helper * @function streamHelper * @param {Stream} stream * @param {Function} cb * @memberof init.spec */ TestUtility.prototype.streamHelper = function(config, cb) { const self = this; // console.log(&quot;Stream Helper INITIALIZED&quot;); self.src(&quot;../fixtures/**&quot;) .pipe(svgMultitool(config)) .pipe(self.injectTestPipe(cb)) .pipe(self.dest(config.outputPath)); }; /** * @function streamTester * @param {Object} config * @param {Function} done * @memberof init.spec */ TestUtility.prototype.streamTester = function(config, done, expected = []) { // console.log(&quot;Test Stream INITIALIZED&quot;); this.streamHelper(config, function (data) { // console.log(&quot;Test Stream callback FIRED&quot;); assert.deepEqual(Object.keys(data), expected); done(); }); // done(); }; module.exports.TestUtility = new TestUtility(); × Search results Close "},"lib_svg-data.js.html":{"id":"lib_svg-data.js.html","title":"Source: lib/svg-data.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: lib/svg-data.js /** * SVG Object * @namespace svg-data */ /** * Stored RegExp patterns used for parsing svg file data * @constant {Object} PATTERNS * @property {RegExp} PATTERNS.nan - RegExp pattern * @property {RegExp} PATTERNS.comments - RegExp pattern * @property {RegExp} PATTERNS.rootMarkup - RegExp pattern * @property {RegExp} PATTERNS.innerMarkup - RegExp pattern * @property {RegExp} PATTERNS.parseAttributes - RegExp pattern * @property {RegExp} PATTERNS.styleBlock - RegExp pattern * @property {RegExp} PATTERNS.styleBlockInner - RegExp pattern * @property {RegExp} PATTERNS.styleDef - RegExp pattern * @property {RegExp} PATTERNS.styleProps - RegExp pattern * @property {RegExp} PATTERNS.styleElements - RegExp pattern * @property {RegExp} PATTERNS.styleIDs - RegExp pattern * @property {RegExp} PATTERNS.styleClasses - RegExp pattern * @memberof svg-data */ const PATTERNS = { nan: /(NaN(\\s)?)+/g, comments: /&lt;!--[\\s\\S]*?--&gt;/g, rootMarkup: /&lt;(\\w+)([^&gt;]*)&gt;([\\w\\d\\s\\W\\S]*?)(?=&lt;\\/\\1&gt;)/, innerMarkup: /(?:&lt;(\\w+)[^&gt;]*?&gt;?)([\\w\\W\\s\\S\\d\\D]*?)(?:&lt;\\/\\1&gt;|\\/&gt;)/, parseAttributes: /([\\w\\-]+)\\=\\&quot;([\\s\\w\\d\\-\\.\\(\\)\\{\\}\\#\\!]+)\\&quot;/, styleBlock: /(?=&lt;style[^&gt;]*&gt;)([\\w\\W]*&lt;\\/style&gt;)/g, styleBlockInner: /(?:&lt;style[^&gt;]*&gt;)([\\w\\W]*)(?:&lt;\\/style&gt;)/g, styleDef: /[\\.\\#]?([\\w\\d\\-]+){(.+?)}/g, styleProps: /([\\w\\d\\-]+)\\:([\\w\\d\\s\\.\\#\\,\\-]+)(?=[},;]|$)/, styleElements: /[^\\.\\#]([\\w\\d\\-]+){(.+?)}/, styleIDs: /\\#([\\w\\d\\-]+){(.+?)}/, styleClasses: /\\.([\\w\\d\\-]+){(.+?)}/ }; /** * Apply camel case to a string * @function camelCase * @param input * @return {String} * @memberof svg-data */ function camelCase(input) { return input.replace(/\\W+(.)/g, function(match, chr) { return chr.toUpperCase(); }); } /** * SVG data object * @function SvgData * @memberof svg-data */ function SvgData(id, contents) { let elements = {}; let ids = {}; let classes = {}; let svg = contents.replace(PATTERNS.comments, ''); const styleMatches = svg.match(PATTERNS.styleBlockInner); if (styleMatches) { const styles = styleMatches[0]; elements = this.getStyleData(styles, PATTERNS.styleElements); ids = this.getStyleData(styles, PATTERNS.styleIDs); classes = this.getStyleData(styles, PATTERNS.styleClasses); } svg = svg.replace(PATTERNS.styleBlock, &quot;&quot;); svg = svg.replace(PATTERNS.nan, &quot;-&quot;); svg = svg.replace(new RegExp(&quot;&lt;defs&gt;&lt;/defs&gt;&quot;, &quot;g&quot;), &quot;&quot;); this.name = id; this.svg = svg; this.data = { styles: { elements, ids, classes }, props: {} }; const markup = new RegExp(PATTERNS.rootMarkup, &quot;gim&quot;); const self = this; let xmlParse; while ((xmlParse = markup.exec(svg)) !== null) { self.data.tag = xmlParse[1]; const attribs = xmlParse[2]; const innerHTML = xmlParse[3]; if (attribs) { const parse = new RegExp(PATTERNS.parseAttributes, &quot;g&quot;); while ((attrArray = parse.exec(attribs)) !== null) { const attrib = camelCase(attrArray[1]); self[attrib] = attrArray[2]; self.data.props[attrib] = attrArray[2]; } } if (innerHTML) { if (innerHTML.substring(0,1) === &quot;&lt;&quot;) { self.data.children = this.getChildData(innerHTML, PATTERNS.innerMarkup); } else { self.data.context = innerHTML; } } } } /** * Parse string CSS to object data * @function getStyleData * @param {String} input - String to be parsed * @param {RegExp} pattern - pattern to use * @return {Object} * @memberof svg-data * @example * const elements = SvgData.getStyleData(string, PATTERNS.styleElements); */ SvgData.prototype.getStyleData = function(input, pattern) { const output = {}; const def = new RegExp(pattern, &quot;g&quot;); while ((defArray = CSSElements.exec(styles)) !== null) { const tag = defArray[1]; const props = {}; if (defArray[2]) { const parse = new RegExp(PATTERNS.styleProps, &quot;g&quot;); while ((propArray = parse.exec(defArray[2])) !== null) { props[propArray[1]] = propArray[2]; } } output[tag] = props; } return output; } /** * Use regex to find a childs contents and nested elements * @function getChildData * @param {String} input - String to be parsed * @param {RegExp} pattern - pattern to use * @return {Array} * @memberof svg-data * @example * const children = SvgData.getChildData(string, PATTERNS.innerMarkup); */ SvgData.prototype.getChildData = function(input, pattern) { const self = this; const output = []; const markup = new RegExp(pattern, &quot;gim&quot;); let markupArray; while ((markupArray = markup.exec(input)) !== null) { const tag = markupArray[1]; const attribs = markupArray[2]; const innerHTML = markupArray[3]; const item = { tag: markupArray[1], props: {} }; if (attribs) { const parse = new RegExp(PATTERNS.parseAttributes, &quot;g&quot;); while ((attrArray = parse.exec(attribs)) !== null) { const attrib = camelCase(attrArray[1]); item.props[attrib] = attrArray[2]; } } if (innerHTML) { if (innerHTML.substring(0,1) === &quot;&lt;&quot;) { item.children = this.getChildData(innerHTML, PATTERNS.innerMarkup); } else { item.context = innerHTML; } } output.push(item); } return output; } /** * Misc helper func * @function getSvgData * @param {String} svg * @return {Object} SvgData * @memberof svg-data */ function getSvgData(id, svg) { return new SvgData(id, svg); } module.exports.getSvgData = getSvgData; × Search results Close "},"lib_svg-dispatcher.js.html":{"id":"lib_svg-dispatcher.js.html","title":"Source: lib/svg-dispatcher.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: lib/svg-dispatcher.js /** * Dispatch module used in svg conversion * @namespace svg-dispatcher */ const _ = require(&quot;lodash&quot;); const async = require(&quot;async&quot;); const getSvgObject = require(&quot;./svg-object&quot;).getSvgObject; const PLUGIN_NAME = &quot;gulp-svg-multitool&quot;; /** * Default configuration. Everything here can be overridden * @constant {Object} defaultConfig * @memberof svg-dispatcher */ const defaultConfig = { plugins: [{ cleanupAttrs: true, }, { removeDoctype: true, },{ removeXMLProcInst: true, },{ removeComments: true, },{ removeMetadata: true, },{ removeTitle: true, },{ removeDesc: true, },{ removeUselessDefs: true, },{ removeEditorsNSData: true, },{ removeEmptyAttrs: true, },{ removeHiddenElems: true, },{ removeEmptyText: true, },{ removeEmptyContainers: true, },{ removeViewBox: false, },{ cleanupEnableBackground: true, },{ convertStyleToAttrs: true, },{ convertColors: true, },{ convertPathData: true, },{ convertTransform: true, },{ removeUnknownsAndDefaults: true, },{ removeNonInheritableGroupAttrs: true, },{ removeUselessStrokeAndFill: true, },{ removeUnusedNS: true, },{ cleanupIDs: true, },{ cleanupNumericValues: true, },{ moveElemsAttrsToGroup: true, },{ moveGroupAttrsToElems: true, },{ collapseGroups: true, },{ removeRasterImages: false, },{ mergePaths: true, },{ convertShapeToPath: true, },{ sortAttrs: true, },{ removeDimensions: true, },{ removeAttrs: {attrs: '(stroke|fill)'}, }] }; /** * Dispatch module used in svg conversion * @function Dispatcher * @param {Object} config - Usage settings * @memberof svg-dispatcher */ function Dispatcher(config) { this._settings = _.extend(defaultConfig, config || {}); this._registry = {}; this._queue = []; this._queue.push(function (callback) { callback(null, {svg:[]}); }); } /** * Register an SVG file to be processed * @function register * @param {File} file - The SVG file * @return {Function} callback - Callback * @memberof svg-dispatcher */ Dispatcher.prototype.register = function (file) { const self = this; const svgObject = getSvgObject(file, self._settings); const id = svgObject.id; if (!self._registry[id]) { self._registry[id] = true; self._queue.push(function (data, callback) { svgObject.compile(function(err, svgData) { data.svg.push(svgData) callback(err, data); }); }); } }; /** * Run all queued processes * @function compile * @param {Function} callback - Post compile callback * @memberof svg-dispatcher */ Dispatcher.prototype.compile = function (callback) { const self = this; async.waterfall(self._queue, callback); }; /** * Misc helper func * @function getDispatcher * @param {Object} config - Usage settings * @return {Object} Dispatcher * @memberof svg-dispatcher */ function getDispatcher(config) { return new Dispatcher(config); } module.exports.getDispatcher = getDispatcher; × Search results Close "},"lib_svg-object.js.html":{"id":"lib_svg-object.js.html","title":"Source: lib/svg-object.js","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Source: lib/svg-object.js /** * SVG Object * @namespace svg-object */ const _ = require(&quot;lodash&quot;); const path = require(&quot;path&quot;); const SVGO = require(&quot;svgo&quot;); const getSvgData = require(&quot;./svg-data&quot;).getSvgData; const PLUGIN_NAME = &quot;gulp-svg-multitool&quot;; /** * SVG Object * @function SvgObject * @param {File} file - The SVG source file * @param {Object} config - Usage settings * @memberof svg-object */ function SvgObject(file, config) { this._settings = _.extend({}, config); this._path = file.path; this._contents = file.contents.toString(); this._preprocessor = new SVGO(this._settings); this.id = path.basename(file.path, path.extname(file.path)); } /** * Request the processed svg file data * @function compile * @param {Function} callback - Post compile callback * @memberof svg-object */ SvgObject.prototype.compile = function (callback) { const self = this; try { self._preprocessor.optimize(self._contents, function (result) { const svgData = getSvgData(self.id, result.data); process.nextTick(function() { callback(null, svgData); }); }); } catch (error) { callback(error, null); } }; /** * Misc helper func * @function getSvgObject * @param {File} file - The SVG source file * @param {Object} config - Usage settings * @return {Object} SvgObject * @memberof svg-object */ function getSvgObject(file, config) { return new SvgObject(file, config); } module.exports.getSvgObject = getSvgObject; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Global Methods gulp-defs() Example Method shows basic usage with no options/config Source: examples/gulpfile.defs.js, line 3 gulp-options() Example Method shows some of the different options that can be used Source: examples/gulpfile.options.js, line 18 gulp-pngs() Example Method shows how to utilize png fallbacks Source: examples/gulpfile.pngs.js, line 18 gulp-symbols() Example Method shows how to utilize symbols mode Source: examples/gulpfile.symbols.js, line 24 × Search results Close "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Namespaces Namespaces gulp-svg-multitool spec svg-data svg-dispatcher svg-object × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols gulp-svg-multitool Table of contents Install Usage PNG fallbacks Symbols mode Defs mode Custom filenames Base size No previews Advanced: data transforms License InstallInstall it locally to your project. $ npm install --save-dev gulp-svg-multitoolUsageWith no configuration, gulp-svg-multitool will create the following files: svg/atlas.svg - Sprite Sheet containing all of your SVGs preview.html - A preview page with instructions &amp; snippets var svgMultitool = require(&quot;gulp-svg-multitool&quot;); gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool()) .pipe(gulp.dest(&quot;assets&quot;)); });Then, if you had a facebook.svg file, you'd be able to use the following markup in your webpage: &lt;i class=&quot;icon facebook&quot;&gt;&lt;/i&gt;PNG fallbacksYou can easily generate png files from your source svgs. var svgMultitool = require(&quot;gulp-svg-multitool&quot;); gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool({pngFallback: true})) .pipe(gulp.dest(&quot;assets&quot;)); });Symbols modeTo get output SVG data as this CSS Tricks article outlines. gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool({symbols: true})) .pipe(gulp.dest(&quot;assets&quot;)); });Custom filenamesYou can also change the generated filenames with ease. For example, if you want to create a scss partial instead, you could just do: // Custom SVG filename gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool({ svgOutputFile: &quot;svg.svg&quot; })) .pipe(gulp.dest(&quot;assets&quot;)); }); // Custom preview filename + custom SVG filename gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool({ svgOutputFile: &quot;svg.svg&quot;, previewFile: &quot;index.html&quot; })) .pipe(gulp.dest(&quot;assets&quot;)); }); // Custom JSON filename gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool({ jsonFile: &quot;output.json&quot; })) .pipe(gulp.dest(&quot;assets&quot;)); });Base sizeSet the font-size of the .icon class. Just pass a plain number, no units. gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool({ baseSize: 16 })) .pipe(gulp.dest(&quot;assets&quot;)); });No previewsIf you don't want 'em. Works in all modes. gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool({ preview: false })) .pipe(gulp.dest(&quot;assets&quot;)); });Advanced: data transformsIf you want to do some custom stuff with your templates, you might need to transform the SVG data before it gets to your template. There are two functions you can provide to do this and they'll override the internal ones. Override transformData and you'll have direct access to the data returned from svg-sprite-data. This will skip the few transformations that this library applies - so use with caution. (If you want to modify the data as well after our internal modifications, use afterTransform instead.) // Synchronous var config = { transformData: function (data, config) { return data; // modify the data and return it }, svgOutputFile: &quot;svg.svg&quot; }; // Asynchronous var config = { asyncTransforms: true, transformData: function (data, config, done) { done(data); // modify the data and pass it }, svgOutputFile: &quot;svg.svg&quot; }; gulp.task('multitool', function () { return gulp.src('assets/svg/*.svg') .pipe(svgMultitool(config)) .pipe(gulp.dest(&quot;assets&quot;)); }); LicenseCopyright (c) 2018 Steven Jackson Licensed under the MIT license. × Search results Close "},"gulp-svg-multitool.html":{"id":"gulp-svg-multitool.html","title":"Namespace: gulp-svg-multitool","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Namespace: gulp-svg-multitool gulp-svg-multitool SVG manipulations using gulp, largely inspired and modified from gulp-svg-sprites Source: index.js, line 1 Members &lt;static, constant&gt; options :Object Default configuration. Everything here can be overridden Type: Object Properties: Name Type Description options.symbols Boolean Use symbol blocks instead of defs options.jsonData Boolean Generate JSON data from SVG files options.pngFallback Boolean Generate PNG fallback images of each SVG options.async Boolean Use async processing options.outputPath String Define the output path for generated files. options.previewFile String Define the output path for generated files. options.jsonFile String Define the output path for generated files. options.svgOutputFile String Define the output path for generated files. options.padding Number Add padding to sprite items options.baseSize Number Set the base font-size for the icon element options.postProcess function Apply additional data changes AFTER core processes Source: index.js, line 17 Methods &lt;static&gt; error(context, msg) Helper for correct plugin errors Parameters: Name Type Description context Object msg String Source: index.js, line 55 &lt;static&gt; jsonify(data, config) Handles json file creation primarily Parameters: Name Type Description data config Source: index.js, line 161 Returns: Type Object &lt;static&gt; makeFile(fileName, stream, data) Misc helper func Parameters: Name Type Description fileName String stream Stream data * Source: index.js, line 66 &lt;static&gt; makeTemplateFile(template, fileName, stream, data) Misc helper func Parameters: Name Type Description template File fileName String stream Stream data Object Source: index.js, line 123 Returns: Type Promise.promise | * &lt;static&gt; writeFiles(stream, config, data, cb) Misc helper func Parameters: Name Type Description stream Stream config Object data Object cb function Source: index.js, line 85 × Search results Close "},"init.spec.html":{"id":"init.spec.html","title":"Namespace: spec","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Namespace: spec spec Unit testing spec Source: test/specs/init.spec.js, line 1 Methods &lt;static&gt; injectTestPipe(callback) Misc helper Parameters: Name Type Description callback function callback Source: test/specs/init.spec.js, line 22 Returns: Type Stream &lt;static&gt; streamHelper(stream, cb) Misc helper Parameters: Name Type Description stream Stream cb function Source: test/specs/init.spec.js, line 52 &lt;static&gt; streamTester(config, done) Parameters: Name Type Description config Object done function Source: test/specs/init.spec.js, line 68 &lt;static&gt; TestUtility() Unit testing construct Source: test/specs/init.spec.js, line 11 × Search results Close "},"svg-data.html":{"id":"svg-data.html","title":"Namespace: svg-data","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Namespace: svg-data svg-data SVG Object Source: lib/svg-data.js, line 1 Members &lt;static, constant&gt; PATTERNS :Object Stored RegExp patterns used for parsing svg file data Type: Object Properties: Name Type Description PATTERNS.nan RegExp RegExp pattern PATTERNS.comments RegExp RegExp pattern PATTERNS.rootMarkup RegExp RegExp pattern PATTERNS.innerMarkup RegExp RegExp pattern PATTERNS.parseAttributes RegExp RegExp pattern PATTERNS.styleBlock RegExp RegExp pattern PATTERNS.styleBlockInner RegExp RegExp pattern PATTERNS.styleDef RegExp RegExp pattern PATTERNS.styleProps RegExp RegExp pattern PATTERNS.styleElements RegExp RegExp pattern PATTERNS.styleIDs RegExp RegExp pattern PATTERNS.styleClasses RegExp RegExp pattern Source: lib/svg-data.js, line 5 Methods &lt;static&gt; camelCase(input) Apply camel case to a string Parameters: Name Type Description input Source: lib/svg-data.js, line 36 Returns: Type String &lt;static&gt; getChildData(input, pattern) Use regex to find a childs contents and nested elements Parameters: Name Type Description input String String to be parsed pattern RegExp pattern to use Source: lib/svg-data.js, line 129 Returns: Type Array Example const children = SvgData.getChildData(string, PATTERNS.innerMarkup); &lt;static&gt; getStyleData(input, pattern) Parse string CSS to object data Parameters: Name Type Description input String String to be parsed pattern RegExp pattern to use Source: lib/svg-data.js, line 103 Returns: Type Object Example const elements = SvgData.getStyleData(string, PATTERNS.styleElements); &lt;static&gt; getSvgData(svg) Misc helper func Parameters: Name Type Description svg String Source: lib/svg-data.js, line 173 Returns: SvgData Type Object &lt;static&gt; SvgData() SVG data object Source: lib/svg-data.js, line 49 × Search results Close "},"svg-dispatcher.html":{"id":"svg-dispatcher.html","title":"Namespace: svg-dispatcher","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Namespace: svg-dispatcher svg-dispatcher Dispatch module used in svg conversion Source: lib/svg-dispatcher.js, line 1 Members &lt;static, constant&gt; defaultConfig :Object Default configuration. Everything here can be overridden Type: Object Source: lib/svg-dispatcher.js, line 10 Methods &lt;static&gt; compile(callback) Run all queued processes Parameters: Name Type Description callback function Post compile callback Source: lib/svg-dispatcher.js, line 124 &lt;static&gt; Dispatcher(config) Dispatch module used in svg conversion Parameters: Name Type Description config Object Usage settings Source: lib/svg-dispatcher.js, line 86 &lt;static&gt; getDispatcher(config) Misc helper func Parameters: Name Type Description config Object Usage settings Source: lib/svg-dispatcher.js, line 135 Returns: Dispatcher Type Object &lt;static&gt; register(file) Register an SVG file to be processed Parameters: Name Type Description file File The SVG file Source: lib/svg-dispatcher.js, line 102 Returns: callback - Callback Type function × Search results Close "},"svg-object.html":{"id":"svg-object.html","title":"Namespace: svg-object","body":" gulp-svg-multitool Namespaces gulp-svg-multitoolinit.specsvg-datasvg-dispatchersvg-object Global gulp-defsgulp-optionsgulp-pngsgulp-symbols Namespace: svg-object svg-object SVG Object Source: lib/svg-object.js, line 1 Methods &lt;static&gt; compile(callback) Request the processed svg file data Parameters: Name Type Description callback function Post compile callback Source: lib/svg-object.js, line 28 &lt;static&gt; getSvgObject(file, config) Misc helper func Parameters: Name Type Description file File The SVG source file config Object Usage settings Source: lib/svg-object.js, line 51 Returns: SvgObject Type Object &lt;static&gt; SvgObject(file, config) SVG Object Parameters: Name Type Description file File The SVG source file config Object Usage settings Source: lib/svg-object.js, line 11 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
